nameSuffix: -fixedrt
bases:
- ../base

commonLabels:
  app: specjbb-fixedrt-medium
  type: fixedrt
  size: medium

#patchesStrategicMerge:
#  - resources.yaml

configMapGenerator:
  - name: specjbb
    behavior: merge
    literals:
      - group_count=2
      - cores=96
      - id_env=fixedrt

  - name: specjbb-java
    behavior: merge
    literals:
      # for the controller
      - contmeg="2g"
      - contnew="1536m"
      # for the injector
      - tximeg_numeric_gb=2
      - tximeg="2g"
      - txinew="1536m"
      # for the backend
      - backendimeg='18000M'
      - backendinew='16920M'

  - name: specjbb-config
    behavior: merge
    literals:
      # 'specjbb.group.count' set by number replicas groups and controllers
      - specjbb.txi.pergroup.count=1
      - Dspecjbb.controller.type=FIXED_RT
      - Dspecjbb.controller.validation.skip=true
      - Dspecjbb.controller.preset.ir=1000
      - Dspecjbb.controller.rampup.steps=1
      - Dspecjbb.preRunTest=false
      - Dspecjbb.postRunTest=false
