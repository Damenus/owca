loggers: {}
  #wca.wss: debug
  #wca.storage_http: debug
runner: !DetectionRunner
  measurement_runner: !MeasurementRunner
    extra_labels: &node_labels
      node: 'node13'
    action_delay: 5.0
    event_names:
      - instructions
      - cycles
      - memstalls__ra310  # Cycles while memory subsystem has an outstanding
      - mem_load_retired_local_pmm__rd180   # Retired load instructions with local Optane DC persistent memory as the data source  and the data request missed L3
      - mem_load_retired_local_dram__rd301
      - mem_inst_retired_all_loads__rd081
      - mem_inst_retired_all_stores__rd082
  #    - ocr_all_reads_l3_miss_local_dram_any_snoop__rb701003f840007f7
  #    - ocr_all_reads_l3_miss_local_pmm_any_snoop__rb701003f804007f7
    wss_reset_interval: 1
    node: !StaticNode
      tasks:
        - task1
        - task2
        - task3
      tasks_labels:
        task1:
          app: memcached
        task2:
          app: memcached
        task3:
          app: sysbench
    metrics_storage: !HTTPStorage
      port: 9100

    enable_derived_metrics: true

  detector: !AEPDetector
    node_labels: *node_labels

  anomalies_storage: !HTTPStorage
    port: 9101

    #  task_derived_metrics_generators_factory: !DefaultTaskDerivedMetricsGeneratorFactory
    #    extra_metrics:
    #      ips2: 'delta("instructions") / time_delta'
    #      ipc2: 'delta("instructions") / delta("cycles")'
    #      dram_hit: 'mem_load_retired_local_dram__rd301 / (mem_load_retired_local_pmm__rd180 + mem_load_retired_local_dram__rd301)'
    #      memory_rw_ratio: 'delta("mem_inst_retired_all_loads__rd081") / delta("mem_inst_retired_all_stores__rd082")'
    #
    #  platform_derived_metrics_generators_factory: !DefaultPlatformDerivedMetricsGeneratorsFactory
    #    extra_metrics:
    #      dram_hit: 'dram_total_mb_per_second / (pmm_total_mb_per_second+dram_total_mb_per_second)'
